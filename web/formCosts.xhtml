<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                template="./template.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="content">
        <h:form id="form">
            <p:panel >  
                <f:facet  name="footer">
                    <p:panelGrid columns="2"  styleClass="invisibleBorderWithoutWidth">
                        <p:commandLink value="Сохранить" actionListener="#{formCosts.save()}"/>
                        <h:commandLink value="Назад" action="mainpage"/>
                    </p:panelGrid>

                </f:facet>
                
                <p:messages/>

                <p:outputLabel value="Цены на #{formCosts.model.yearAndMonth} для #{formCosts.model.railwayName}. Редактирует: #{formCosts.model.userFIO}" styleClass="centerHeader"/>

                <p:dataTable id="dataTable" var="item" value="#{formCosts.model.costs.details}" widgetVar="costsTable"   
                             emptyMessage="Цены не найдены" editable="true">  

                    <p:column id="ter" headerText="Ресурс" >  
                        <p:outputLabel value="#{item.resource.string}" escape="false"/>  
                    </p:column>  

                    <p:column id="cost" headerText="Коэффициент">  
                        <p:inputText value="#{item.cost}"/>  
                    </p:column> 

                </p:dataTable>
            </p:panel>
        </h:form>
    </ui:define>
</ui:composition>
